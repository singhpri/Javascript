<!DOCTYPE html>
<html>
<head>
  <title>Grey-Pixels</title>
</head>
<body>
    <canvas id ="canvas" width ="500" height ="500"></canvas>
<script>
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');
    var image = new Image();
    image.onload = function(){
      ctx.drawImage(image,0,0,canvas.width,canvas.height);
      paintGray();
    }
    image.src = "images_src/flowers.jpg";
      function paintGray() {
        var imageData = ctx.getImageData(0,0,500,500);
        for (var i = 0; i < imageData.data.length/4; i++){
            var avg = (imageData.data[i*4] + imageData.data[i*4+1] + imageData.data[i*4+2])/3;
            imageData.data[i*4] = avg;
            imageData.data[i*4+1] = avg;
            imageData.data[i*4+2] = avg;
            imageData.data[i*4+3] = avg;
          }
          ctx.putImageData(imageData, 0, 0);
        }
  </script>
</body>
</html>
